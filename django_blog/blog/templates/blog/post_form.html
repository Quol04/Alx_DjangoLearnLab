{% extends 'blog/base.html' %}
{% block title %}{% if view.object %}Edit: {{ view.object.title }}{% else %}New post{% endif %}{% endblock %}
{% block content %}
<h1>{% if view.object %}Edit post{% else %}Create a new post{% endif %}</h1>
<form method="post" novalidate>
  {% csrf_token %}
  {{ form.non_field_errors }}
  <div>
    <label>Title</label>
    {{ form.title }}
    {{ form.title.errors }}
  </div>
  <div>
    <label>Content</label>
    {{ form.content }}
    {{ form.content.errors }}
  </div>
  <button type="submit">{% if view.object %}Save changes{% else %}Publish{% endif %}</button>
</form>
<p><a href="{% url 'blog:post-list' %}">Back to list</a></p>
{% endblock %}
