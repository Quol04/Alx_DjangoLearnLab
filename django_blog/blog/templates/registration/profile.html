{% extends 'blog/base.html' %}
{% block title %}Profile{% endblock %}
{% block content %}
<h1>Your profile</h1>
<form method="post" novalidate>
  {% csrf_token %}
  {{ form.non_field_errors }}
  <div>
    <label>Username</label>
    {{ form.username }}
    {{ form.username.errors }}
  </div>
  <div>
    <label>Email</label>
    {{ form.email }}
    {{ form.email.errors }}
  </div>
  <div>
    <label>First name</label>
    {{ form.first_name }}
    {{ form.first_name.errors }}
  </div>
  <div>
    <label>Last name</label>
    {{ form.last_name }}
    {{ form.last_name.errors }}
  </div>
  <button type="submit">Save changes</button>
</form>

{% if extra %}
  <section>
    <h2>Extra profile</h2>
    {% if extra.avatar %}
      <img src="{{ extra.avatar.url }}" alt="Avatar" width="120" height="120">
    {% endif %}
    <p>{{ extra.bio|default:"No bio yet." }}</p>
  </section>
{% endif %}
{% endblock %}
